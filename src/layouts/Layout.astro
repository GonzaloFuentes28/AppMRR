---
/**
 * Layout Component
 * 
 * Main layout wrapper for all pages.
 * Includes:
 * - HTML head with meta tags
 * - Global styles import
 * - Footer with disclaimer
 * - Vercel Analytics
 */
interface Props {
	title: string;
}

const { title } = Astro.props;
import Analytics from '@vercel/analytics/astro'
import '../styles/globals.css';
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="An iOS app revenue tracker and leaderboard" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/png" href="/appmrr.png" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<Analytics />
	</head>
        <body>
                <slot />
                <footer>
                        <div class="footer-container">
                                <p>MRR and revenue refresh once per day. <br />AppMRR is not responsible for misuse of your API keysâ€”please use a read-only key limited to chart metrics.</p>
                        </div>
		</footer>
	</body>
</html>

<style>
	:root {
		/* consume the same tokens defined in pages to keep in sync */
		--background: oklch(1 0 0);
		--foreground: oklch(0.145 0 0);
		--border: oklch(0.922 0 0);
		--muted-foreground: oklch(0.556 0 0);

		--bg: var(--background);
		--fg: var(--foreground);
		--muted: var(--muted-foreground);
	}

	[data-theme="dark"], .dark {
		--background: oklch(0.145 0 0);
		--foreground: oklch(0.985 0 0);
		--border: oklch(0.269 0 0);
		--muted-foreground: oklch(0.708 0 0);

		--bg: var(--background);
		--fg: var(--foreground);
		--muted: var(--muted-foreground);
	}

	:global(html) {
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
		transition: background-color 0.3s ease;
	}

        :global(body) {
                margin: 0;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                background: radial-gradient(circle at top left, color-mix(in oklch, var(--primary) 40%, transparent), transparent 55%),
                        radial-gradient(circle at bottom right, color-mix(in oklch, var(--primary) 35%, transparent), transparent 60%),
                        var(--bg);
                color: var(--fg);
                transition: background-color 0.3s ease, color 0.3s ease;
                background-attachment: fixed;
                background-size: cover;
        }

        footer {
                margin-top: auto;
                border-top: 1px solid var(--border);
		padding: 3rem 0;
		background: var(--bg);
		transition: background-color 0.3s ease, border-color 0.3s ease;
	}

	.footer-container {
		max-width: 1000px;
		margin: 0 auto;
		padding: 0 2rem;
		text-align: center;
		color: var(--muted);
		font-size: 0.85rem;
		transition: color 0.3s ease;
	}
</style>

