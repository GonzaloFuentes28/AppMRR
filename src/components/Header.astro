---
/**
 * Header Component
 * 
 * Displays the main header of the AppMRR leaderboard including:
 * - Brand logo and title
 * - Subtitle with description
 * - Theme toggle button (light/dark mode)
 * 
 * Used in: index.astro
 */
import { Sun, Moon } from '@lucide/astro';
---

<div class="header-card">
        <div class="header-top">
                <div class="title-wrap">
                        <div class="brand-avatar">
                                <img src="/appmrr.png" alt="AppMRR" class="brand-icon" />
                        </div>
                        <div class="title-text">
                                <span class="badge">Live leaderboard</span>
                                <h1>AppMRR</h1>
                                <p class="subtitle">Track top-performing apps ranked by MRR and 28-day revenue in real time.</p>
                        </div>
                </div>
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                        <Sun class="theme-icon sun" />
                        <Moon class="theme-icon moon" />
                </button>
        </div>
        <div class="header-meta">
                <span class="tag">Updated daily</span>
                <span class="tag">Mobile-first experience</span>
                <span class="tag">Secure RevenueCat integration</span>
        </div>
</div>

<style>
        .header-card {
                background: color-mix(in srgb, var(--card-bg) 90%, rgba(255, 255, 255, 0.65));
                border: 1px solid color-mix(in srgb, var(--card-border) 70%, transparent);
                border-radius: 22px;
                padding: clamp(1.5rem, 4vw, 2rem);
                display: flex;
                flex-direction: column;
                gap: 1.5rem;
                box-shadow: var(--shadow-soft);
                backdrop-filter: blur(14px);
                transition: border-color 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .header-top {
                display: flex;
                justify-content: space-between;
                align-items: center;
                gap: 1.5rem;
        }

        .title-wrap {
                display: flex;
                align-items: center;
                gap: 1.25rem;
        }

        .brand-avatar {
                width: 72px;
                height: 72px;
                border-radius: 20px;
                background: linear-gradient(140deg, rgba(99, 102, 241, 0.15), rgba(236, 72, 153, 0.1));
                display: grid;
                place-items: center;
                box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.35);
        }

        .brand-icon {
                width: 60px;
                height: 60px;
                border-radius: 16px;
                object-fit: cover;
        }

        .title-text {
                display: flex;
                flex-direction: column;
                gap: 0.45rem;
        }

        .badge {
                display: inline-flex;
                align-items: center;
                gap: 0.35rem;
                font-size: 0.75rem;
                letter-spacing: 0.08em;
                text-transform: uppercase;
                padding: 0.35rem 0.75rem;
                border-radius: 999px;
                background: color-mix(in srgb, var(--primary) 16%, var(--card-bg));
                color: color-mix(in srgb, var(--primary) 65%, var(--fg));
                border: 1px solid color-mix(in srgb, var(--primary) 25%, transparent);
        }

        h1 {
                font-size: clamp(2rem, 3vw, 2.6rem);
                font-weight: 700;
                margin: 0;
                color: var(--fg);
                letter-spacing: -0.02em;
        }

        .subtitle {
                color: var(--muted);
                margin: 0;
                font-size: 1.05rem;
                font-weight: 400;
                line-height: 1.6;
        }

        .theme-toggle {
                background: color-mix(in srgb, var(--card-bg) 75%, rgba(255, 255, 255, 0.3));
                border: 1px solid color-mix(in srgb, var(--border) 65%, transparent);
                padding: 0.65rem;
                cursor: pointer;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 48px;
                height: 48px;
                color: var(--fg);
                flex-shrink: 0;
                transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
        }

        .theme-toggle:hover,
        .theme-toggle:focus-visible {
                background: color-mix(in srgb, var(--primary) 20%, var(--card-bg));
                color: var(--primary-foreground);
                border-color: color-mix(in srgb, var(--primary) 30%, var(--border));
                transform: translateY(-2px);
        }

        .theme-toggle:focus-visible {
                outline: none;
                box-shadow: 0 0 0 4px color-mix(in srgb, var(--primary) 25%, transparent);
        }

        .theme-icon {
                width: 20px;
                height: 20px;
                color: currentColor;
                transition: color 0.3s ease;
        }

        .theme-icon.moon {
                display: none;
        }

        :global([data-theme="dark"]) .theme-icon.sun {
                display: none;
        }

        :global([data-theme="dark"]) .theme-icon.moon {
                display: block;
        }

        .header-meta {
                display: flex;
                flex-wrap: wrap;
                gap: 0.75rem;
        }

        .tag {
                font-size: 0.8rem;
                padding: 0.45rem 0.85rem;
                border-radius: 999px;
                background: color-mix(in srgb, var(--secondary) 65%, transparent);
                color: color-mix(in srgb, var(--primary) 55%, var(--muted));
                border: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
        }

        @media (max-width: 768px) {
                .header-top {
                        flex-direction: column;
                        align-items: flex-start;
                }

                .title-wrap {
                        align-items: flex-start;
                }

                .brand-avatar {
                        width: 64px;
                        height: 64px;
                }

                .brand-icon {
                        width: 52px;
                        height: 52px;
                }

                .theme-toggle {
                        width: 44px;
                        height: 44px;
                }

                .subtitle {
                        font-size: 0.98rem;
                }

                .header-meta {
                        flex-direction: column;
                        align-items: flex-start;
                }
        }
</style>

